version: '3.7'

services:
  imagemagick-api:
    build: .  # Build from the Dockerfile in the current directory
    container_name: imagemagick-api
    ports:
      - "5000:5000"  # Expose API endpoint on port 5000
    volumes:
      - ./images:/images  # Shared volume to hold input/output images
    networks:
      - imagemagick-network

networks:
  imagemagick-network:
    driver: bridge
